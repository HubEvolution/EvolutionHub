# Die URL des lokal laufenden Cloudflare Workers, damit das Frontend weiß, wohin es Anfragen senden soll.
PUBLIC_WORKER_URL="http://localhost:8787"

# Kanonische Site-URL (wird u.a. für die dynamische Sitemap genutzt)
# In Produktion auf die .com-Domain setzen
PUBLIC_SITE_URL="https://hub-evolution.com"

# Testing: Basis-URLs für Playwright/Vitest (Integration/E2E)
# Tests bevorzugen TEST_BASE_URL; fällt zurück auf BASE_URL; Standard lokal: http://127.0.0.1:8787
# Wenn TEST_BASE_URL leer ist, starten Tests lokal automatisch den Wrangler-Dev-Server.
# TEST_BASE_URL=""
# BASE_URL="http://127.0.0.1:8787"

# Analytics (optional)
# Google Analytics 4 Measurement ID, z.B. "G-XXXXXXX"
# PUBLIC_GA_MEASUREMENT_ID=""
# Plausible Domain, z.B. "hub-evolution.com"
# PUBLIC_PLAUSIBLE_DOMAIN=""

# Auth.js v5 Configuration
# Generate a secret with: openssl rand -hex 32
AUTH_SECRET="4dbd7e194fb217782190c3507531816e58cde5ea900319b26166a8ba86f1e601"
AUTH_TRUST_HOST=false

# AI Image Enhancer
# Replicate API token (required for AI image generation)
# Obtain from https://replicate.com/account/api-tokens
REPLICATE_API_TOKEN="YOUR_REPLICATE_API_TOKEN"
# Do NOT commit real tokens here. Use local env files and CI/CD secret stores.

# Cloudflare Bindings (configure in wrangler.toml, not via .env):
# - R2_AI_IMAGES: R2 bucket used to store original and enhanced images
# - KV_AI_ENHANCER: KV namespace used to track per-user/guest usage quotas
# Example wrangler.toml snippet:
# [[kv_namespaces]]
# binding = "KV_AI_ENHANCER"
# id = "<your_kv_namespace_id>"
#
# [[r2_buckets]]
# binding = "R2_AI_IMAGES"
# bucket_name = "<your_r2_bucket_name>"

# Security & Allowed Origins (used by API middleware for Origin/CSRF validation)
# Comma-separated list. Exact scheme+host(+port). Example for local + prod:
# ALLOWED_ORIGINS="http://localhost:4321,https://hub-evolution.com"
# Alias supported by middleware (either can be used):
# ALLOW_ORIGINS="http://localhost:4321,https://hub-evolution.com"
# Canonical app origin (recommended):
# APP_ORIGIN="https://hub-evolution.com"
# Public app origin (used by frontend; falls back to APP_ORIGIN if not set):
# PUBLIC_APP_ORIGIN="https://hub-evolution.com"

# Development behavior notes
# - CSRF uses double-submit: header X-CSRF-Token must match cookie 'csrf_token' on POST.
# - In development, AI Image service may echo the original image when the upstream
#   provider/token is unavailable, to keep local flows working.
# - Rate limiting applies in all envs; 429 responses include Retry-After seconds.

# OpenAI API Key (for Assistants API)
# Obtain from https://platform.openai.com/api-keys
OPENAI_API_KEY="sk-your-openai-api-key-here"
PROMPT_TEXT_MODEL=gpt-4o-mini
PROMPT_VISION_MODEL=gpt-4o-mini
PROMPT_MAX_FILES=3
PROMPT_MAX_FILE_BYTES=5242880
PROMPT_ALLOWED_TYPES=image/jpeg,image/png,image/webp,application/pdf,text/plain,text/markdown
PROMPT_OUTPUT_TOKENS_MAX=400
PROMPT_TEMPERATURE=0.2
PROMPT_TOP_P=0.9
OPENAI_API_KEY=sk-…
PROMPT_REWRITE_V1=true