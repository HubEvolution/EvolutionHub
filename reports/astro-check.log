03:48:35 [@astrojs/cloudflare] Enabling sessions with Cloudflare KV with the "SESSION" KV binding.
03:48:35 [@astrojs/cloudflare] If you see the error "Invalid binding `SESSION`" in your build output, you need to add the binding to your wrangler config file.
03:48:35 [WARN] [adapter] Cloudflare does not support sharp at runtime. However, you can configure `imageService: "compile"` to optimize images with sharp on prerendered pages during build time.
03:48:36 [content] Syncing content
03:48:36 [content] Synced content
03:48:36 [types] Generated 1.19s
03:48:36 [check] Getting diagnostics for Astro files in /Users/lucas/Downloads/EvolutionHub_Bundle_v1.7_full/evolution-hub...
[96msrc/components/projects/ProjectModal.tsx[0m:[93m264[0m:[93m19[0m - [93mwarning[0m[90m ts(6385): [0m'onKeyPress' is deprecated.

[7m264[0m                   onKeyPress={handleKeyPress}
[7m   [0m [93m                  ~~~~~~~~~~[0m

[96msrc/components/tools/imag-enhancer/__tests__/ModelControls.test.tsx[0m:[93m1[0m:[93m1[0m - [91merror[0m[90m ts(6133): [0m'React' is declared but its value is never read.

[7m1[0m import React from 'react';
[7m [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/tools/imag-enhancer/__tests__/useCompareInteractions.test.tsx[0m:[93m3[0m:[93m1[0m - [91merror[0m[90m ts(6133): [0m'userEvent' is declared but its value is never read.

[7m3[0m import userEvent from '@testing-library/user-event';
[7m [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/components/tools/webscraper/WebscraperIsland.tsx[0m:[93m97[0m:[93m7[0m - [93mwarning[0m[90m ts(80007): [0m'await' has no effect on the type of this expression.

[7m97[0m       await ensureCsrfToken();
[7m  [0m [93m      ~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/layouts/AuthLayout.astro[0m:[93m8[0m:[93m5[0m - [93mwarning[0m[90m astro(4000): [0mThis script will be treated as if it has the `is:inline` directive because it contains an attribute. Therefore, features that require processing (e.g. using TypeScript or npm packages in the script) are unavailable.

See docs for more details: https://docs.astro.build/en/guides/client-side-scripts/#script-processing.

Add the `is:inline` directive explicitly to silence this hint.

[7m8[0m     src="https://challenges.cloudflare.com/turnstile/v0/api.js"
[7m [0m [93m    ~~~[0m

[96msrc/layouts/BaseLayout.astro[0m:[93m254[0m:[93m11[0m - [93mwarning[0m[90m astro(4000): [0mThis script will be treated as if it has the `is:inline` directive because it contains an attribute. Therefore, features that require processing (e.g. using TypeScript or npm packages in the script) are unavailable.

See docs for more details: https://docs.astro.build/en/guides/client-side-scripts/#script-processing.

Add the `is:inline` directive explicitly to silence this hint.

[7m254[0m           src="https://challenges.cloudflare.com/turnstile/v0/api.js"
[7m   [0m [93m          ~~~[0m
[96msrc/layouts/BaseLayout.astro[0m:[93m250[0m:[93m13[0m - [93mwarning[0m[90m astro(4000): [0mThis script will be treated as if it has the `is:inline` directive because it contains an attribute. Therefore, features that require processing (e.g. using TypeScript or npm packages in the script) are unavailable.

See docs for more details: https://docs.astro.build/en/guides/client-side-scripts/#script-processing.

Add the `is:inline` directive explicitly to silence this hint.

[7m250[0m     <script type="module" src={landingBgUrl} defer nonce={Astro.locals.cspNonce}></script>
[7m   [0m [93m            ~~~~[0m

[96msrc/lib/auth.ts[0m:[93m13[0m:[93m48[0m - [93mwarning[0m[90m ts(6385): [0m'LegacyLucia' is deprecated.

[7m13[0m export function initializeLucia(_D1: unknown): LegacyLucia {
[7m  [0m [93m                                               ~~~~~~~~~~~[0m

[96msrc/lib/kv/usage.test.ts[0m:[93m12[0m:[93m39[0m - [91merror[0m[90m ts(2307): [0mCannot find module '../../tests/utils/kv-mock' or its corresponding type declarations.

[7m12[0m import { createKVNamespaceMock } from '../../tests/utils/kv-mock';
[7m  [0m [91m                                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/pages/faq.astro[0m:[93m197[0m:[93m11[0m - [93mwarning[0m[90m astro(4000): [0mThis script will be treated as if it has the `is:inline` directive because it contains an attribute. Therefore, features that require processing (e.g. using TypeScript or npm packages in the script) are unavailable.

See docs for more details: https://docs.astro.build/en/guides/client-side-scripts/#script-processing.

Add the `is:inline` directive explicitly to silence this hint.

[7m197[0m   <script type="module">
[7m   [0m [93m          ~~~~[0m

[96msrc/pages/kontakt.astro[0m:[93m337[0m:[93m9[0m - [93mwarning[0m[90m astro(4000): [0mThis script will be treated as if it has the `is:inline` directive because it contains an attribute. Therefore, features that require processing (e.g. using TypeScript or npm packages in the script) are unavailable.

See docs for more details: https://docs.astro.build/en/guides/client-side-scripts/#script-processing.

Add the `is:inline` directive explicitly to silence this hint.

[7m337[0m <script type="module">
[7m   [0m [93m        ~~~~[0m

[96msrc/pages/account/settings.astro[0m:[93m5[0m:[93m7[0m - [91merror[0m[90m ts(6133): [0m'target' is declared but its value is never read.

[7m5[0m const target =
[7m [0m [91m      ~~~~~~[0m

[96msrc/pages/api/testing/evaluate/next/run.ts[0m:[93m8[0m:[93m10[0m - [91merror[0m[90m ts(2305): [0mModule '"@/lib/rate-limiter"' has no exported member 'webEvalBrowserLimiter'.

[7m8[0m import { webEvalBrowserLimiter } from '@/lib/rate-limiter';
[7m [0m [91m         ~~~~~~~~~~~~~~~~~~~~~[0m

[96msrc/pages/blog/[...slug].astro[0m:[93m114[0m:[93m66[0m - [91merror[0m[90m ts(2352): [0mConversion of type 'AuthorInfo' to type 'Record<string, unknown>' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Index signature for type 'string' is missing in type 'AuthorInfo'.

[7m114[0m   : typeof data.author === 'object' && data.author && 'name' in (data.author as Record<string, unknown>)
[7m   [0m [91m                                                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96msrc/pages/blog/[...slug].astro[0m:[93m85[0m:[93m55[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'ContentfulBlogEntry' is not assignable to parameter of type 'string'.

[7m85[0m     const related = await blogService.getRelatedPosts(originalEntry!, {
[7m  [0m [91m                                                      ~~~~~~~~~~~~~~[0m

[96msrc/pages/en/blog/[...slug].astro[0m:[93m3[0m:[93m7[0m - [91merror[0m[90m ts(6133): [0m'slug' is declared but its value is never read.

[7m3[0m const slug = Array.isArray(slugRaw)
[7m [0m [91m      ~~~~[0m

[96mtests/integration/billing-api.test.ts[0m:[93m425[0m:[93m18[0m - [91merror[0m[90m ts(18048): [0m'json.error' is possibly 'undefined'.

[7m425[0m           expect(json.error.message).toBeDefined();
[7m   [0m [91m                 ~~~~~~~~~~[0m
[96mtests/integration/billing-api.test.ts[0m:[93m425[0m:[93m18[0m - [91merror[0m[90m ts(18047): [0m'json' is possibly 'null'.

[7m425[0m           expect(json.error.message).toBeDefined();
[7m   [0m [91m                 ~~~~[0m
[96mtests/integration/billing-api.test.ts[0m:[93m424[0m:[93m18[0m - [91merror[0m[90m ts(18048): [0m'json.error' is possibly 'undefined'.

[7m424[0m           expect(json.error.type).toBeDefined();
[7m   [0m [91m                 ~~~~~~~~~~[0m
[96mtests/integration/billing-api.test.ts[0m:[93m424[0m:[93m18[0m - [91merror[0m[90m ts(18047): [0m'json' is possibly 'null'.

[7m424[0m           expect(json.error.type).toBeDefined();
[7m   [0m [91m                 ~~~~[0m
[96mtests/integration/billing-api.test.ts[0m:[93m423[0m:[93m18[0m - [91merror[0m[90m ts(18047): [0m'json' is possibly 'null'.

[7m423[0m           expect(json.success).toBe(false);
[7m   [0m [91m                 ~~~~[0m

[96mtests/integration/comments-api.test.ts[0m:[93m111[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType '{ res: Response; json: { success: boolean; } | null; }' is not assignable to type 'CommentsResponse<{ success: boolean; }>'.
  Types of property 'json' are incompatible.

[7m111[0m     const { res, json }: CommentsResponse<{ success: boolean }> = await sendJson(
[7m   [0m [91m          ~~~~~~~~~~~~~[0m
[96mtests/integration/comments-api.test.ts[0m:[93m97[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType '{ res: Response; json: { success: boolean; } | null; }' is not assignable to type 'CommentsResponse<{ success: boolean; }>'.
  Types of property 'json' are incompatible.

[7m97[0m     const { res, json }: CommentsResponse<{ success: boolean }> = await sendJson(
[7m  [0m [91m          ~~~~~~~~~~~~~[0m
[96mtests/integration/comments-api.test.ts[0m:[93m86[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType '{ res: Response; json: { success: boolean; data?: { id?: string | undefined; } | undefined; } | null; }' is not assignable to type 'CommentsResponse<{ success: boolean; data?: { id?: string | undefined; } | undefined; }>'.
  Types of property 'json' are incompatible.

[7m86[0m     const {
[7m  [0m [91m          ~[0m
[7m87[0m       json: created,
[7m  [0m [91m~~~~~~~~~~~~~~~~~~~~[0m
[7m88[0m     }: CommentsResponse<{
[7m  [0m [91m~~~~~[0m
[96mtests/integration/comments-api.test.ts[0m:[93m73[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType '{ res: Response; json: { success: boolean; } | null; }' is not assignable to type 'CommentsResponse<{ success: boolean; }>'.
  Types of property 'json' are incompatible.

[7m73[0m     const { res, json }: CommentsResponse<{ success: boolean }> = await sendJson(
[7m  [0m [91m          ~~~~~~~~~~~~~[0m
[96mtests/integration/comments-api.test.ts[0m:[93m62[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType '{ res: Response; json: { success: boolean; data?: { id?: string | undefined; } | undefined; } | null; }' is not assignable to type 'CommentsResponse<{ success: boolean; data?: { id?: string | undefined; } | undefined; }>'.
  Types of property 'json' are incompatible.

[7m62[0m     const {
[7m  [0m [91m          ~[0m
[7m63[0m       json: created,
[7m  [0m [91m~~~~~~~~~~~~~~~~~~~~[0m
[7m64[0m     }: CommentsResponse<{
[7m  [0m [91m~~~~~[0m
[96mtests/integration/comments-api.test.ts[0m:[93m44[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType '{ res: Response; json: { success: boolean; data: { id: string; entityId: string; }; } | null; }' is not assignable to type 'CommentsResponse<{ success: boolean; data: { id: string; entityId: string; }; }>'.
  Types of property 'json' are incompatible.

[7m44[0m     const {
[7m  [0m [91m          ~[0m
[7m45[0m       res,
[7m  [0m [91m~~~~~~~~~~[0m
[7m46[0m       json,
[7m  [0m [91m~~~~~~~~~~~[0m
[7m47[0m     }: CommentsResponse<{ success: boolean; data: { id: string; entityId: string } }> =
[7m  [0m [91m~~~~~[0m
[96mtests/integration/comments-api.test.ts[0m:[93m31[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType '{ res: Response; json: { success: boolean; error: { type: string; }; } | null; }' is not assignable to type 'CommentsResponse<{ success: boolean; error: { type: string; }; }>'.
  Types of property 'json' are incompatible.

[7m31[0m     const { res, json }: CommentsResponse<{ success: boolean; error: { type: string } }> =
[7m  [0m [91m          ~~~~~~~~~~~~~[0m
[96mtests/integration/comments-api.test.ts[0m:[93m14[0m:[93m11[0m - [91merror[0m[90m ts(2322): [0mType '{ res: Response; json: { success: boolean; data: { comments: unknown[]; total: number; hasMore: boolean; }; } | null; }' is not assignable to type 'CommentsResponse<{ success: boolean; data: { comments: unknown[]; total: number; hasMore: boolean; }; }>'.
  Types of property 'json' are incompatible.

[7m14[0m     const {
[7m  [0m [91m          ~[0m
[7m15[0m       res,
[7m  [0m [91m~~~~~~~~~~[0m
[7m16[0m       json,
[7m  [0m [91m~~~~~~~~~~~[0m
[7m17[0m     }: CommentsResponse<{
[7m  [0m [91m~~~~~[0m

[96mtests/integration/comments.test.ts[0m:[93m516[0m:[93m9[0m - [91merror[0m[90m ts(2322): [0mType '"invalid_type"' is not assignable to type 'CommentEntityType'.

[7m516[0m         entityType: 'invalid_type',
[7m   [0m [91m        ~~~~~~~~~~[0m
[96mtests/integration/comments.test.ts[0m:[93m3[0m:[93m10[0m - [91merror[0m[90m ts(2724): [0m'"../../src/lib/services/comment-service"' has no exported member named 'commentService'. Did you mean 'CommentService'?

[7m3[0m import { commentService } from '../../src/lib/services/comment-service';
[7m [0m [91m         ~~~~~~~~~~~~~~[0m
[96mtests/integration/comments.test.ts[0m:[93m2[0m:[93m10[0m - [91merror[0m[90m ts(2305): [0mModule '"../../src/lib/db/helpers"' has no exported member 'getDb'.

[7m2[0m import { getDb } from '../../src/lib/db/helpers';
[7m [0m [91m         ~~~~~[0m

[96mtests/integration/lead-magnet-api.test.ts[0m:[93m374[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'data' does not exist on type '{}'.

[7m374[0m           expect(json?.data?.downloadUrl).toBeDefined();
[7m   [0m [91m                       ~~~~[0m
[96mtests/integration/lead-magnet-api.test.ts[0m:[93m373[0m:[93m24[0m - [91merror[0m[90m ts(2339): [0mProperty 'success' does not exist on type '{}'.

[7m373[0m           expect(json?.success).toBe(true);
[7m   [0m [91m                       ~~~~~~~[0m
[96mtests/integration/lead-magnet-api.test.ts[0m:[93m350[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'data' does not exist on type '{}'.

[7m350[0m         expect(json?.data?.expiresAt).toBeDefined();
[7m   [0m [91m                     ~~~~[0m
[96mtests/integration/lead-magnet-api.test.ts[0m:[93m349[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'data' does not exist on type '{}'.

[7m349[0m         expect(json?.data?.downloadUrl).toBeDefined();
[7m   [0m [91m                     ~~~~[0m
[96mtests/integration/lead-magnet-api.test.ts[0m:[93m347[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'success' does not exist on type '{}'.

[7m347[0m         expect(json?.success).toBe(true);
[7m   [0m [91m                     ~~~~~~~[0m
[96mtests/integration/lead-magnet-api.test.ts[0m:[93m315[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'success' does not exist on type '{}'.

[7m315[0m           expect(json.success).toBe(false);
[7m   [0m [91m                      ~~~~~~~[0m
[96mtests/integration/lead-magnet-api.test.ts[0m:[93m287[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'success' does not exist on type '{}'.

[7m287[0m           expect(json.success).toBe(false);
[7m   [0m [91m                      ~~~~~~~[0m
[96mtests/integration/lead-magnet-api.test.ts[0m:[93m273[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'success' does not exist on type '{}'.

[7m273[0m           expect(json.success).toBe(false);
[7m   [0m [91m                      ~~~~~~~[0m
[96mtests/integration/lead-magnet-api.test.ts[0m:[93m255[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'success' does not exist on type '{}'.

[7m255[0m           expect(json.success).toBe(false);
[7m   [0m [91m                      ~~~~~~~[0m
[96mtests/integration/lead-magnet-api.test.ts[0m:[93m237[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'success' does not exist on type '{}'.

[7m237[0m           expect(json.success).toBe(false);
[7m   [0m [91m                      ~~~~~~~[0m
[96mtests/integration/lead-magnet-api.test.ts[0m:[93m219[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'success' does not exist on type '{}'.

[7m219[0m           expect(json.success).toBe(false);
[7m   [0m [91m                      ~~~~~~~[0m
[96mtests/integration/lead-magnet-api.test.ts[0m:[93m201[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'success' does not exist on type '{}'.

[7m201[0m           expect(json.success).toBe(false);
[7m   [0m [91m                      ~~~~~~~[0m

[96mtests/integration/newsletter-api.test.ts[0m:[93m233[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'success' does not exist on type '{}'.

[7m233[0m           expect(json.success).toBe(false);
[7m   [0m [91m                      ~~~~~~~[0m

[96mtests/integration/projects-api.test.ts[0m:[93m501[0m:[93m65[0m - [91merror[0m[90m ts(2339): [0mProperty 'data' does not exist on type '{}'.

[7m501[0m       const projects = (safeParseJson(listResponse.text) || {}).data as ProjectItem[];
[7m   [0m [91m                                                                ~~~~[0m
[96mtests/integration/projects-api.test.ts[0m:[93m494[0m:[93m73[0m - [91merror[0m[90m ts(2339): [0mProperty 'data' does not exist on type '{}'.

[7m494[0m       const createdProject = (safeParseJson(createResponse.text) || {}).data
[7m   [0m [91m                                                                        ~~~~[0m
[96mtests/integration/projects-api.test.ts[0m:[93m475[0m:[93m25[0m - [91merror[0m[90m ts(2339): [0mProperty 'success' does not exist on type '{}'.

[7m475[0m             expect(json.success).toBe(false);
[7m   [0m [91m                        ~~~~~~~[0m
[96mtests/integration/projects-api.test.ts[0m:[93m459[0m:[93m25[0m - [91merror[0m[90m ts(2339): [0mProperty 'error' does not exist on type '{}'.

[7m459[0m             expect(json.error.message).toBeDefined();
[7m   [0m [91m                        ~~~~~[0m
[96mtests/integration/projects-api.test.ts[0m:[93m458[0m:[93m25[0m - [91merror[0m[90m ts(2339): [0mProperty 'error' does not exist on type '{}'.

[7m458[0m             expect(json.error.type).toBeDefined();
[7m   [0m [91m                        ~~~~~[0m
[96mtests/integration/projects-api.test.ts[0m:[93m457[0m:[93m25[0m - [91merror[0m[90m ts(2339): [0mProperty 'success' does not exist on type '{}'.

[7m457[0m             expect(json.success).toBe(false);
[7m   [0m [91m                        ~~~~~~~[0m
[96mtests/integration/projects-api.test.ts[0m:[93m384[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'data' does not exist on type '{}'.

[7m384[0m         expect((json?.data || []).length).toBe(0);
[7m   [0m [91m                      ~~~~[0m
[96mtests/integration/projects-api.test.ts[0m:[93m383[0m:[93m36[0m - [91merror[0m[90m ts(2339): [0mProperty 'data' does not exist on type '{}'.

[7m383[0m         expect(Array.isArray(json?.data)).toBe(true);
[7m   [0m [91m                                   ~~~~[0m
[96mtests/integration/projects-api.test.ts[0m:[93m382[0m:[93m22[0m - [91merror[0m[90m ts(2339): [0mProperty 'success' does not exist on type '{}'.

[7m382[0m         expect(json?.success).toBe(true);
[7m   [0m [91m                     ~~~~~~~[0m
[96mtests/integration/projects-api.test.ts[0m:[93m321[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'success' does not exist on type '{}'.

[7m321[0m           expect(json.success).toBe(false);
[7m   [0m [91m                      ~~~~~~~[0m

[96mtests/integration/user-avatar-api.test.ts[0m:[93m84[0m:[93m74[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m84[0m   const boundary = '----WebKitFormBoundary' + Math.random().toString(36).substr(2, 9);
[7m  [0m [93m                                                                         ~~~~~~[0m

[96mtests/integration/api/web-eval-complete.test.ts[0m:[93m104[0m:[93m18[0m - [91merror[0m[90m ts(2339): [0mProperty 'data' does not exist on type '{}'.

[7m104[0m     expect(json?.data?.taskId).toBe(taskId);
[7m   [0m [91m                 ~~~~[0m
[96mtests/integration/api/web-eval-complete.test.ts[0m:[93m103[0m:[93m18[0m - [91merror[0m[90m ts(2339): [0mProperty 'success' does not exist on type '{}'.

[7m103[0m     expect(json?.success).toBe(true);
[7m   [0m [91m                 ~~~~~~~[0m
[96mtests/integration/api/web-eval-complete.test.ts[0m:[93m88[0m:[93m18[0m - [91merror[0m[90m ts(2339): [0mProperty 'error' does not exist on type '{}'.

[7m88[0m     expect(json?.error?.type).toBe('validation_error');
[7m  [0m [91m                 ~~~~~[0m
[96mtests/integration/api/web-eval-complete.test.ts[0m:[93m87[0m:[93m18[0m - [91merror[0m[90m ts(2339): [0mProperty 'success' does not exist on type '{}'.

[7m87[0m     expect(json?.success).toBe(false);
[7m  [0m [91m                 ~~~~~~~[0m
[96mtests/integration/api/web-eval-complete.test.ts[0m:[93m76[0m:[93m18[0m - [91merror[0m[90m ts(2339): [0mProperty 'error' does not exist on type '{}'.

[7m76[0m     expect(json?.error?.type).toBe('auth_error');
[7m  [0m [91m                 ~~~~~[0m
[96mtests/integration/api/web-eval-complete.test.ts[0m:[93m75[0m:[93m18[0m - [91merror[0m[90m ts(2339): [0mProperty 'success' does not exist on type '{}'.

[7m75[0m     expect(json?.success).toBe(false);
[7m  [0m [91m                 ~~~~~~~[0m
[96mtests/integration/api/web-eval-complete.test.ts[0m:[93m47[0m:[93m46[0m - [91merror[0m[90m ts(18046): [0m'json' is of type 'unknown'.

[7m47[0m     taskId: (json.data.taskId as string) ?? (json.data.task?.id as string),
[7m  [0m [91m                                             ~~~~[0m
[96mtests/integration/api/web-eval-complete.test.ts[0m:[93m47[0m:[93m14[0m - [91merror[0m[90m ts(18046): [0m'json' is of type 'unknown'.

[7m47[0m     taskId: (json.data.taskId as string) ?? (json.data.task?.id as string),
[7m  [0m [91m             ~~~~[0m
[96mtests/integration/api/web-eval-complete.test.ts[0m:[93m43[0m:[93m16[0m - [91merror[0m[90m ts(2339): [0mProperty 'success' does not exist on type '{}'.

[7m43[0m   expect(json?.success).toBe(true);
[7m  [0m [91m               ~~~~~~~[0m

[96mtests/integration/api/webscraper.test.ts[0m:[93m5[0m:[93m44[0m - [91merror[0m[90m ts(6133): [0m'vi' is declared but its value is never read.

[7m5[0m import { describe, it, expect, beforeEach, vi } from 'vitest';
[7m [0m [91m                                           ~~[0m
[96mtests/integration/api/webscraper.test.ts[0m:[93m5[0m:[93m32[0m - [91merror[0m[90m ts(6133): [0m'beforeEach' is declared but its value is never read.

[7m5[0m import { describe, it, expect, beforeEach, vi } from 'vitest';
[7m [0m [91m                               ~~~~~~~~~~[0m

[96mtests/performance/rate-limiting-perf.test.ts[0m:[93m292[0m:[93m16[0m - [91merror[0m[90m ts(6133): [0m'index' is declared but its value is never read.

[7m292[0m         async (index) => {
[7m   [0m [91m               ~~~~~[0m
[96mtests/performance/rate-limiting-perf.test.ts[0m:[93m197[0m:[93m16[0m - [91merror[0m[90m ts(6133): [0m'index' is declared but its value is never read.

[7m197[0m         async (index) => {
[7m   [0m [91m               ~~~~~[0m
[96mtests/performance/rate-limiting-perf.test.ts[0m:[93m59[0m:[93m9[0m - [91merror[0m[90m ts(6133): [0m'failed' is declared but its value is never read.

[7m59[0m   const failed = responses.filter((r) => r.status === 'rejected').length;
[7m  [0m [91m        ~~~~~~[0m
[96mtests/performance/rate-limiting-perf.test.ts[0m:[93m19[0m:[93m7[0m - [91merror[0m[90m ts(6133): [0m'RATE_LIMITS' is declared but its value is never read.

[7m19[0m const RATE_LIMITS = {
[7m  [0m [91m      ~~~~~~~~~~~[0m
[96mtests/performance/rate-limiting-perf.test.ts[0m:[93m224[0m:[93m78[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m224[0m       const boundary = '----WebKitFormBoundary' + Math.random().toString(36).substr(2, 9);
[7m   [0m [93m                                                                             ~~~~~~[0m

[96mtests/performance/run-load-tests.ts[0m:[93m300[0m:[93m11[0m - [91merror[0m[90m ts(6133): [0m'report' is declared but its value is never read.

[7m300[0m     const report = saveResults(results, testType);
[7m   [0m [91m          ~~~~~~[0m
[96mtests/performance/run-load-tests.ts[0m:[93m115[0m:[93m39[0m - [91merror[0m[90m ts(18046): [0m'apiConfig' is of type 'unknown'.

[7m115[0m             return fetch(`${baseUrl}${apiConfig.endpoint}`, {
[7m   [0m [91m                                      ~~~~~~~~~[0m
[96mtests/performance/run-load-tests.ts[0m:[93m110[0m:[93m19[0m - [91merror[0m[90m ts(18046): [0m'apiConfig' is of type 'unknown'.

[7m110[0m               ...(apiConfig.endpoint.includes('lead-magnets') && {
[7m   [0m [91m                  ~~~~~~~~~[0m
[96mtests/performance/run-load-tests.ts[0m:[93m105[0m:[93m39[0m - [91merror[0m[90m ts(18046): [0m'apiConfig' is of type 'unknown'.

[7m105[0m             return fetch(`${baseUrl}${apiConfig.endpoint}`);
[7m   [0m [91m                                      ~~~~~~~~~[0m
[96mtests/performance/run-load-tests.ts[0m:[93m104[0m:[93m15[0m - [91merror[0m[90m ts(18046): [0m'apiConfig' is of type 'unknown'.

[7m104[0m           if (apiConfig.method === 'GET') {
[7m   [0m [91m              ~~~~~~~~~[0m
[96mtests/performance/run-load-tests.ts[0m:[93m101[0m:[93m9[0m - [91merror[0m[90m ts(18046): [0m'apiConfig' is of type 'unknown'.

[7m101[0m         apiConfig.endpoint,
[7m   [0m [91m        ~~~~~~~~~[0m
[96mtests/performance/run-load-tests.ts[0m:[93m94[0m:[93m28[0m - [91merror[0m[90m ts(18046): [0m'apiConfig' is of type 'unknown'.

[7m94[0m     for (const scenario of apiConfig.testScenarios) {
[7m  [0m [91m                           ~~~~~~~~~[0m
[96mtests/performance/run-load-tests.ts[0m:[93m42[0m:[93m3[0m - [91merror[0m[90m ts(6133): [0m'baseUrl' is declared but its value is never read.

[7m42[0m   baseUrl: string,
[7m  [0m [91m  ~~~~~~~[0m

[96mtests/src/legacy/utils/database-helpers.ts[0m:[93m33[0m:[93m69[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m33[0m     const dbName = `test_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;
[7m  [0m [93m                                                                    ~~~~~~[0m

[96mtests/src/legacy/utils/server-helpers.ts[0m:[93m401[0m:[93m15[0m - [91merror[0m[90m ts(6133): [0m'req' is declared but its value is never read.

[7m401[0m     handler: (req, res) => {
[7m   [0m [91m              ~~~[0m

[96mtests/src/lib/auth-v2.test.ts[0m:[93m6[0m:[93m8[0m - [91merror[0m[90m ts(6133): [0m'User' is declared but its value is never read.

[7m6[0m   type User,
[7m [0m [91m       ~~~~[0m

[96mtests/src/pages/api/ai-video/generate.test.ts[0m:[93m55[0m:[93m31[0m - [91merror[0m[90m ts(6133): [0m'init' is declared but its value is never read.

[7m55[0m     vi.fn(async (url: string, init?: any) => {
[7m  [0m [91m                              ~~~~[0m

[96mtests/unit/comment-service-simple.test.ts[0m:[93m162[0m:[93m71[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m162[0m       const id2 = `comment_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;
[7m   [0m [93m                                                                      ~~~~~~[0m
[96mtests/unit/comment-service-simple.test.ts[0m:[93m161[0m:[93m71[0m - [93mwarning[0m[90m ts(6385): [0m'(from: number, length?: number | undefined): string' is deprecated.

[7m161[0m       const id1 = `comment_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;
[7m   [0m [93m                                                                      ~~~~~~[0m

[96mtests/unit/lib/ai-image-service.test.ts[0m:[93m68[0m:[93m47[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'string' is not assignable to parameter of type 'Map<string, unknown>'.

[7m68[0m       vi.mocked(kv.get).mockResolvedValueOnce(JSON.stringify({ count: 2, resetAt: 1700000000 }));
[7m  [0m [91m                                              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96mtests/unit/lib/ai-image-service.test.ts[0m:[93m58[0m:[93m47[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'null' is not assignable to parameter of type 'Map<string, unknown>'.

[7m58[0m       vi.mocked(kv.get).mockResolvedValueOnce(null);
[7m  [0m [91m                                              ~~~~[0m

[96mtests/unit/lib/rate-limiter-kv.test.ts[0m:[93m6[0m:[93m8[0m - [91merror[0m[90m ts(6133): [0m'RateLimiter' is declared but its value is never read.

[7m6[0m   type RateLimiter,
[7m [0m [91m       ~~~~~~~~~~~[0m

[96mtests/unit/lib/rate-limiter.test.ts[0m:[93m15[0m:[93m8[0m - [91merror[0m[90m ts(6133): [0m'RateLimiter' is declared but its value is never read.

[7m15[0m   type RateLimiter,
[7m  [0m [91m       ~~~~~~~~~~~[0m

[96mtests/unit/pages/api/user/profile.test.ts[0m:[93m10[0m:[93m58[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'null' is not assignable to parameter of type 'RateLimiterResult'.

[7m10[0m   apiRateLimiter: vi.fn<RateLimiter>().mockResolvedValue(null),
[7m  [0m [91m                                                         ~~~~[0m
[96mtests/unit/pages/api/user/profile.test.ts[0m:[93m9[0m:[93m62[0m - [91merror[0m[90m ts(2345): [0mArgument of type 'null' is not assignable to parameter of type 'RateLimiterResult'.

[7m9[0m   standardApiLimiter: vi.fn<RateLimiter>().mockResolvedValue(null),
[7m [0m [91m                                                             ~~~~[0m

[96mtests/unit/utils/server-helpers.test.ts[0m:[93m623[0m:[93m13[0m - [91merror[0m[90m ts(6133): [0m'startTime' is declared but its value is never read.

[7m623[0m       const startTime = testServer.startTime;
[7m   [0m [91m            ~~~~~~~~~[0m

[96mscripts/docs-auto-fix.ts[0m:[93m84[0m:[93m13[0m - [91merror[0m[90m ts(6133): [0m'blockIdxStart' is declared but its value is never read.

[7m84[0m       const blockIdxStart = i;
[7m  [0m [91m            ~~~~~~~~~~~~~[0m

[96mscripts/generate-wordmark-outlined.ts[0m:[93m3[0m:[93m22[0m - [91merror[0m[90m ts(7016): [0mCould not find a declaration file for module 'opentype.js'. '/Users/lucas/Downloads/EvolutionHub_Bundle_v1.7_full/evolution-hub/node_modules/opentype.js/dist/opentype.js' implicitly has an 'any' type.
  Try `npm i --save-dev @types/opentype.js` if it exists or add a new declaration (.d.ts) file containing `declare module 'opentype.js';`

[7m3[0m import opentype from 'opentype.js';
[7m [0m [91m                     ~~~~~~~~~~~~~[0m

[96mscripts/health-check.ts[0m:[93m107[0m:[93m16[0m - [91merror[0m[90m ts(2393): [0mDuplicate function implementation.

[7m107[0m async function main() {
[7m   [0m [91m               ~~~~[0m
[96mscripts/health-check.ts[0m:[93m22[0m:[93m16[0m - [91merror[0m[90m ts(2393): [0mDuplicate function implementation.

[7m22[0m async function checkHealth(
[7m  [0m [91m               ~~~~~~~~~~~[0m

[96mscripts/onboarding.ts[0m:[93m347[0m:[93m16[0m - [91merror[0m[90m ts(6133): [0m'showDocumentation' is declared but its value is never read.

[7m347[0m async function showDocumentation() {
[7m   [0m [91m               ~~~~~~~~~~~~~~~~~[0m
[96mscripts/onboarding.ts[0m:[93m275[0m:[93m16[0m - [91merror[0m[90m ts(6133): [0m'setupShellAliases' is declared but its value is never read.

[7m275[0m async function setupShellAliases() {
[7m   [0m [91m               ~~~~~~~~~~~~~~~~~[0m
[96mscripts/onboarding.ts[0m:[93m79[0m:[93m16[0m - [91merror[0m[90m ts(6133): [0m'createTestUser' is declared but its value is never read.

[7m79[0m async function createTestUser() {
[7m  [0m [91m               ~~~~~~~~~~~~~~[0m

[96mscripts/setup-local-dev.ts[0m:[93m363[0m:[93m7[0m - [91merror[0m[90m ts(6133): [0m'KV_BINDING' is declared but its value is never read.

[7m363[0m const KV_BINDING = extractConfigValue(WRANGLER_CONFIG, 'binding') || 'SESSION';
[7m   [0m [91m      ~~~~~~~~~~[0m
[96mscripts/setup-local-dev.ts[0m:[93m360[0m:[93m7[0m - [91merror[0m[90m ts(6133): [0m'R2_BINDING' is declared but its value is never read.

[7m360[0m const R2_BINDING = extractConfigValue(WRANGLER_CONFIG, 'binding') || 'R2_AVATARS';
[7m   [0m [91m      ~~~~~~~~~~[0m
[96mscripts/setup-local-dev.ts[0m:[93m357[0m:[93m7[0m - [91merror[0m[90m ts(6133): [0m'DB_BINDING' is declared but its value is never read.

[7m357[0m const DB_BINDING = extractConfigValue(WRANGLER_CONFIG, 'binding') || 'DB';
[7m   [0m [91m      ~~~~~~~~~~[0m

[96mscripts/warmup.ts[0m:[93m191[0m:[93m16[0m - [91merror[0m[90m ts(2393): [0mDuplicate function implementation.

[7m191[0m async function main() {
[7m   [0m [91m               ~~~~[0m
[96mscripts/warmup.ts[0m:[93m76[0m:[93m67[0m - [91merror[0m[90m ts(2339): [0mProperty 'data' does not exist on type '{}'.

[7m76[0m       const statusVal: string | undefined = body?.status ?? body?.data?.status;
[7m  [0m [91m                                                                  ~~~~[0m
[96mscripts/warmup.ts[0m:[93m76[0m:[93m51[0m - [91merror[0m[90m ts(2339): [0mProperty 'status' does not exist on type '{}'.

[7m76[0m       const statusVal: string | undefined = body?.status ?? body?.data?.status;
[7m  [0m [91m                                                  ~~~~~~[0m
[96mscripts/warmup.ts[0m:[93m69[0m:[93m16[0m - [91merror[0m[90m ts(2393): [0mDuplicate function implementation.

[7m69[0m async function checkHealth(baseUrl: string, retries = 3, timeout = REQUEST_TIMEOUT_MS) {
[7m  [0m [91m               ~~~~~~~~~~~[0m

[96mscripts/remark/remark-demote-h1.ts[0m:[93m17[0m:[93m14[0m - [91merror[0m[90m ts(2339): [0mProperty 'depth' does not exist on type 'never'.

[7m17[0m         node.depth = 2;
[7m  [0m [91m             ~~~~~[0m
[96mscripts/remark/remark-demote-h1.ts[0m:[93m16[0m:[93m16[0m - [91merror[0m[90m ts(2339): [0mProperty 'depth' does not exist on type 'never'.

[7m16[0m       if (node.depth === 1) {
[7m  [0m [91m               ~~~~~[0m

[96mscripts/web-eval-executor/menu.ts[0m:[93m460[0m:[93m15[0m - [91merror[0m[90m ts(2304): [0mCannot find name 'startFgAuto'.

[7m460[0m         await startFgAuto();
[7m   [0m [91m              ~~~~~~~~~~~[0m
[96mscripts/web-eval-executor/menu.ts[0m:[93m99[0m:[93m23[0m - [91merror[0m[90m ts(2339): [0mProperty 'pid' does not exist on type 'ExecaReturnValue<string>'.

[7m99[0m       pids.push(child.pid);
[7m  [0m [91m                      ~~~[0m
[96mscripts/web-eval-executor/menu.ts[0m:[93m94[0m:[93m16[0m - [91merror[0m[90m ts(2339): [0mProperty 'pid' does not exist on type 'ExecaReturnValue<string>'.

[7m94[0m     if (child?.pid) {
[7m  [0m [91m               ~~~[0m

[96mscripts/web-eval-executor/runner.ts[0m:[93m138[0m:[93m9[0m - [91merror[0m[90m ts(2578): [0mUnused '@ts-expect-error' directive.

[7m138[0m         // @ts-expect-error tracing on context may not have strong types here
[7m   [0m [91m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
[96mscripts/web-eval-executor/runner.ts[0m:[93m125[0m:[93m11[0m - [91merror[0m[90m ts(2578): [0mUnused '@ts-expect-error' directive.

[7m125[0m           // @ts-expect-error tracing on context may not have strong types here
[7m   [0m [91m          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

Result (767 files): 
- 101 errors
- 0 warnings
- 13 hints

