put:
  tags:
    - comments
  summary: Kommentar aktualisieren
  description: |
    Aktualisiert einen Kommentar. Nur der Ersteller des Kommentars kann ihn aktualisieren.
  operationId: updateComment
  parameters:
    - name: id
      in: path
      description: Kommentar-ID
      required: true
      schema:
        type: string
        format: uuid
  requestBody:
    required: true
    content:
      application/json:
        schema:
          $ref: '../schemas.yaml#/CommentUpdate'
  responses:
    '200':
      description: Kommentar erfolgreich aktualisiert
      content:
        application/json:
          schema:
            type: object
            properties:
              comment:
                $ref: '../schemas.yaml#/Comment'
          example:
            comment:
              id: 6ba7b810-9dad-11d1-80b4-00c04fd430c8
              content: Aktualisierter Kommentar
              project_id: f47ac10b-58cc-4372-a567-0e02b2c3d479
              user_id: 550e8400-e29b-41d4-a716-446655440000
              created_at: "2023-01-01T12:00:00Z"
              updated_at: "2023-01-02T12:00:00Z"
              user:
                id: 550e8400-e29b-41d4-a716-446655440000
                name: John Doe
    '400':
      $ref: '../../openapi.yaml#/components/responses/BadRequest'
    '401':
      $ref: '../../openapi.yaml#/components/responses/Unauthorized'
    '403':
      $ref: '../../openapi.yaml#/components/responses/Forbidden'
    '404':
      $ref: '../../openapi.yaml#/components/responses/NotFound'
    '429':
      $ref: '../../openapi.yaml#/components/responses/TooManyRequests'
    '500':
      $ref: '../../openapi.yaml#/components/responses/InternalServerError'
  security:
    - cookieAuth: []
    - csrfToken: []

delete:
  tags:
    - comments
  summary: Kommentar löschen
  description: |
    Löscht einen Kommentar. Der Kommentar kann vom Ersteller des Kommentars oder
    vom Besitzer des zugehörigen Projekts gelöscht werden.
  operationId: deleteComment
  parameters:
    - name: id
      in: path
      description: Kommentar-ID
      required: true
      schema:
        type: string
        format: uuid
  responses:
    '200':
      description: Kommentar erfolgreich gelöscht
      content:
        application/json:
          schema:
            $ref: '../schemas.yaml#/SuccessResponse'
          example:
            message: Kommentar erfolgreich gelöscht
    '401':
      $ref: '../../openapi.yaml#/components/responses/Unauthorized'
    '403':
      $ref: '../../openapi.yaml#/components/responses/Forbidden'
    '404':
      $ref: '../../openapi.yaml#/components/responses/NotFound'
    '429':
      $ref: '../../openapi.yaml#/components/responses/TooManyRequests'
    '500':
      $ref: '../../openapi.yaml#/components/responses/InternalServerError'
  security:
    - cookieAuth: []
    - csrfToken: []
