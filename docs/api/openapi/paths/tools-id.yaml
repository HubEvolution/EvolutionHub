get:
  tags:
    - tools
  summary: Tool abrufen
  description: |
    Gibt ein einzelnes Tool anhand seiner ID zurück.
  operationId: getToolById
  parameters:
    - name: id
      in: path
      description: Tool-ID
      required: true
      schema:
        type: string
        format: uuid
  responses:
    '200':
      description: Erfolgreicher Abruf des Tools
      content:
        application/json:
          schema:
            type: object
            properties:
              tool:
                $ref: '../schemas.yaml#/Tool'
          example:
            tool:
              id: 123e4567-e89b-12d3-a456-426614174000
              name: Code-Editor
              description: Ein Tool zum Bearbeiten von Code
              icon: code-editor-icon
              created_at: '2023-01-01T00:00:00Z'
              updated_at: '2023-01-01T00:00:00Z'
    '404':
      $ref: '../../openapi.yaml#/components/responses/NotFound'
    '429':
      $ref: '../../openapi.yaml#/components/responses/TooManyRequests'
    '500':
      $ref: '../../openapi.yaml#/components/responses/InternalServerError'
  security:
    - cookieAuth: []
    - {} # Auch ohne Authentifizierung zugänglich

put:
  tags:
    - tools
  summary: Tool aktualisieren
  description: |
    Aktualisiert ein Tool. Nur Administratoren können Tools aktualisieren.
  operationId: updateTool
  parameters:
    - name: id
      in: path
      description: Tool-ID
      required: true
      schema:
        type: string
        format: uuid
  requestBody:
    required: true
    content:
      application/json:
        schema:
          $ref: '../schemas.yaml#/ToolUpdate'
  responses:
    '200':
      description: Tool erfolgreich aktualisiert
      content:
        application/json:
          schema:
            type: object
            properties:
              tool:
                $ref: '../schemas.yaml#/Tool'
          example:
            tool:
              id: 123e4567-e89b-12d3-a456-426614174000
              name: Aktualisierter Code-Editor
              description: Eine aktualisierte Beschreibung
              icon: updated-code-editor-icon
              created_at: '2023-01-01T00:00:00Z'
              updated_at: '2023-01-02T00:00:00Z'
    '400':
      $ref: '../../openapi.yaml#/components/responses/BadRequest'
    '401':
      $ref: '../../openapi.yaml#/components/responses/Unauthorized'
    '403':
      $ref: '../../openapi.yaml#/components/responses/Forbidden'
    '404':
      $ref: '../../openapi.yaml#/components/responses/NotFound'
    '429':
      $ref: '../../openapi.yaml#/components/responses/TooManyRequests'
    '500':
      $ref: '../../openapi.yaml#/components/responses/InternalServerError'
  security:
    - cookieAuth: []
    - csrfToken: []

delete:
  tags:
    - tools
  summary: Tool löschen
  description: |
    Löscht ein Tool. Nur Administratoren können Tools löschen.
  operationId: deleteTool
  parameters:
    - name: id
      in: path
      description: Tool-ID
      required: true
      schema:
        type: string
        format: uuid
  responses:
    '200':
      description: Tool erfolgreich gelöscht
      content:
        application/json:
          schema:
            $ref: '../schemas.yaml#/SuccessResponse'
          example:
            message: Tool erfolgreich gelöscht
    '401':
      $ref: '../../openapi.yaml#/components/responses/Unauthorized'
    '403':
      $ref: '../../openapi.yaml#/components/responses/Forbidden'
    '404':
      $ref: '../../openapi.yaml#/components/responses/NotFound'
    '429':
      $ref: '../../openapi.yaml#/components/responses/TooManyRequests'
    '500':
      $ref: '../../openapi.yaml#/components/responses/InternalServerError'
  security:
    - cookieAuth: []
    - csrfToken: []
