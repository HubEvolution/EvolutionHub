get:
  tags:
    - projects
  summary: Projekt abrufen
  description: |
    Gibt ein einzelnes Projekt anhand seiner ID zurück.
    Öffentliche Projekte können von jedem abgerufen werden.
    Private Projekte können nur vom Besitzer abgerufen werden.
  operationId: getProjectById
  parameters:
    - name: id
      in: path
      description: Projekt-ID
      required: true
      schema:
        type: string
        format: uuid
  responses:
    '200':
      description: Erfolgreicher Abruf des Projekts
      content:
        application/json:
          schema:
            type: object
            properties:
              project:
                $ref: '../schemas.yaml#/Project'
          example:
            project:
              id: f47ac10b-58cc-4372-a567-0e02b2c3d479
              name: Mein Projekt
              description: Eine Beschreibung meines Projekts
              user_id: 550e8400-e29b-41d4-a716-446655440000
              is_public: true
              created_at: "2023-01-01T00:00:00Z"
              updated_at: "2023-01-01T00:00:00Z"
              user:
                id: 550e8400-e29b-41d4-a716-446655440000
                name: John Doe
    '401':
      $ref: '../../openapi.yaml#/components/responses/Unauthorized'
    '403':
      $ref: '../../openapi.yaml#/components/responses/Forbidden'
    '404':
      $ref: '../../openapi.yaml#/components/responses/NotFound'
    '429':
      $ref: '../../openapi.yaml#/components/responses/TooManyRequests'
    '500':
      $ref: '../../openapi.yaml#/components/responses/InternalServerError'
  security:
    - cookieAuth: []
    - {}  # Auch ohne Authentifizierung zugänglich (für öffentliche Projekte)

put:
  tags:
    - projects
  summary: Projekt aktualisieren
  description: |
    Aktualisiert ein Projekt. Nur der Besitzer des Projekts kann es aktualisieren.
  operationId: updateProject
  parameters:
    - name: id
      in: path
      description: Projekt-ID
      required: true
      schema:
        type: string
        format: uuid
  requestBody:
    required: true
    content:
      application/json:
        schema:
          $ref: '../schemas.yaml#/ProjectUpdate'
  responses:
    '200':
      description: Projekt erfolgreich aktualisiert
      content:
        application/json:
          schema:
            type: object
            properties:
              project:
                $ref: '../schemas.yaml#/Project'
          example:
            project:
              id: f47ac10b-58cc-4372-a567-0e02b2c3d479
              name: Aktualisiertes Projekt
              description: Eine aktualisierte Beschreibung
              user_id: 550e8400-e29b-41d4-a716-446655440000
              is_public: true
              created_at: "2023-01-01T00:00:00Z"
              updated_at: "2023-01-02T00:00:00Z"
              user:
                id: 550e8400-e29b-41d4-a716-446655440000
                name: John Doe
    '400':
      $ref: '../../openapi.yaml#/components/responses/BadRequest'
    '401':
      $ref: '../../openapi.yaml#/components/responses/Unauthorized'
    '403':
      $ref: '../../openapi.yaml#/components/responses/Forbidden'
    '404':
      $ref: '../../openapi.yaml#/components/responses/NotFound'
    '429':
      $ref: '../../openapi.yaml#/components/responses/TooManyRequests'
    '500':
      $ref: '../../openapi.yaml#/components/responses/InternalServerError'
  security:
    - cookieAuth: []
    - csrfToken: []

delete:
  tags:
    - projects
  summary: Projekt löschen
  description: |
    Löscht ein Projekt. Nur der Besitzer des Projekts kann es löschen.
  operationId: deleteProject
  parameters:
    - name: id
      in: path
      description: Projekt-ID
      required: true
      schema:
        type: string
        format: uuid
  responses:
    '200':
      description: Projekt erfolgreich gelöscht
      content:
        application/json:
          schema:
            $ref: '../schemas.yaml#/SuccessResponse'
          example:
            message: Projekt erfolgreich gelöscht
    '401':
      $ref: '../../openapi.yaml#/components/responses/Unauthorized'
    '403':
      $ref: '../../openapi.yaml#/components/responses/Forbidden'
    '404':
      $ref: '../../openapi.yaml#/components/responses/NotFound'
    '429':
      $ref: '../../openapi.yaml#/components/responses/TooManyRequests'
    '500':
      $ref: '../../openapi.yaml#/components/responses/InternalServerError'
  security:
    - cookieAuth: []
    - csrfToken: []
