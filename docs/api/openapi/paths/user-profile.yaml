put:
  tags:
    - users
  summary: Benutzerprofil aktualisieren
  description: |
    Aktualisiert das Profil des aktuell angemeldeten Benutzers.
    Diese Route ist durch Authentifizierung und CSRF-Token gesch√ºtzt.
  operationId: updateUserProfile
  requestBody:
    required: true
    content:
      application/json:
        schema:
          $ref: '../schemas.yaml#/UserProfile'
  responses:
    '200':
      description: Profil erfolgreich aktualisiert
      content:
        application/json:
          schema:
            type: object
            properties:
              user:
                $ref: '../schemas.yaml#/User'
          example:
            user:
              id: 550e8400-e29b-41d4-a716-446655440000
              email: user@example.com
              name: Updated Name
              roles: ["user"]
              created_at: "2023-01-01T00:00:00Z"
              updated_at: "2023-01-02T00:00:00Z"
    '400':
      $ref: '../../openapi.yaml#/components/responses/BadRequest'
    '401':
      $ref: '../../openapi.yaml#/components/responses/Unauthorized'
    '429':
      $ref: '../../openapi.yaml#/components/responses/TooManyRequests'
    '500':
      $ref: '../../openapi.yaml#/components/responses/InternalServerError'
  security:
    - cookieAuth: []
    - csrfToken: []
