---
import BaseLayout from '@/layouts/BaseLayout.astro';
import WebscraperIsland from '@/components/tools/webscraper/WebscraperIsland';
import ToolPageHeader from '@/components/tools/shared/ToolPageHeader.astro';

const strings = {
  title: 'Webscraper',
  description: 'Extract content from web pages automatically',
  urlPlaceholder: 'https://example.com',
  submitButton: 'Scrape',
  processing: 'Processing...',
  result: 'Result',
  usage: 'Usage',
  download: 'Download',
  downloadJson: 'Download JSON',
  toasts: {
    quotaReached: 'Daily limit reached',
    invalidUrl: 'Invalid URL',
    robotsBlocked: 'This URL is blocked by robots.txt',
    fetchError: 'Error fetching page',
    parseError: 'Error parsing page',
    success: 'Successfully scraped!',
    error: 'An error occurred',
  },
};

const structuredData = {
  '@context': 'https://schema.org',
  '@type': 'SoftwareApplication',
  name: 'Webscraper',
  description:
    'Automatically extract website data at scale with AI-driven selector detection. Export to CSV, JSON, or API. Includes rate-limit handling & proxy support.',
  applicationCategory: 'UtilityApplication',
  operatingSystem: 'Web',
  url: new URL(Astro.url.pathname, Astro.url.origin).toString(),
  offers: [
    {
      '@type': 'Offer',
      name: 'Starter Plan',
      price: '0',
      priceCurrency: 'EUR',
      availability: 'https://schema.org/InStock',
      description: 'Free tier with limited daily usage.',
    },
    {
      '@type': 'Offer',
      name: 'Pro Plan',
      price: '12',
      priceCurrency: 'EUR',
      availability: 'https://schema.org/InStock',
      description: 'Monthly subscription with higher quotas.',
    },
    {
      '@type': 'Offer',
      name: 'Business Plan',
      price: '28',
      priceCurrency: 'EUR',
      availability: 'https://schema.org/InStock',
      description: 'Advanced limits for teams and businesses.',
    },
  ],
};
---

<BaseLayout
  title="Webscraper â€“ Evolution Hub"
  description="Extract content from web pages automatically with our Webscraper tool"
  structuredData={structuredData}
>
  <main class="min-h-screen bg-transparent py-12 px-4 sm:px-6 lg:px-8">
    <div class="max-w-4xl mx-auto">
      <ToolPageHeader
        icon="search"
        titleKey="pages.tools.items.webscraper.name"
        descriptionKey="pages.tools.items.webscraper.description"
        backHref="/tools"
      />
      <div class="mt-8">
        <WebscraperIsland client:load strings={strings} />
      </div>
    </div>
  </main>
</BaseLayout>
