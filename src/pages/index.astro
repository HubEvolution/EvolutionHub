---
/*
 * Root Index als Sprachweiterleitung
 * Diese Datei leitet basierend auf Browser-Spracheinstellungen zur entsprechenden Sprachversion weiter
 */

// Extrahiere Accept-Language Header f√ºr Browser-Spracherkennung
const acceptLanguageHeader = Astro.request.headers.get('accept-language') || '';
let preferredLanguage = 'de'; // Default: Deutsch

// Einfache Spracherkennung aus dem Accept-Language Header
if (acceptLanguageHeader.includes('en')) {
  preferredLanguage = 'en';
}

// Weiterleitung zur erkannten Sprache
// Wichtig: Bei Astro muss zwischen ---/--- kein return stehen, sondern Astro.redirect() reicht
Astro.redirect(`/${preferredLanguage}/`, 302);
---

<!-- Diese Seite leitet automatisch zur entsprechenden Sprachversion weiter -->
<!-- Falls JavaScript deaktiviert ist, wird diese Fallback-Nachricht angezeigt -->
<html lang="de">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Evolution Hub - Weiterleitung</title>
    <meta http-equiv="refresh" content="0;url=/de/" />
  </head>
  <body>
    <p>Sie werden weitergeleitet. Falls nicht, <a href="/de/">klicken Sie hier</a>.</p>
  </body>
</html>
