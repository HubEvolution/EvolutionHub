/*! @import */
@import 'tailwindcss/base' layer(base);
@import 'tailwindcss/components' layer(components);
@import 'tailwindcss/utilities' layer(utilities);

/* Custom base styles */
@layer base {
  body {
    @apply antialiased text-gray-900 dark:text-gray-100 bg-white dark:bg-gray-900;
    font-family: 'Inter', system-ui, -apple-system, sans-serif;
  }
  
  h1, h2, h3, h4, h5, h6 {
    @apply font-bold tracking-tight;
  }
  
  h1 { @apply text-4xl md:text-5xl lg:text-6xl; }
  h2 { @apply text-3xl md:text-4xl; }
  h3 { @apply text-2xl md:text-3xl; }
  h4 { @apply text-xl md:text-2xl; }
  
  a:not(.btn):not(.btn-primary):not(.btn-secondary):not(.btn-outline) {
    @apply text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 transition-colors;
  }
  
  /* Custom scrollbar */
  ::-webkit-scrollbar {
    @apply w-2 h-2;
  }
  
  ::-webkit-scrollbar-track {
    @apply bg-gray-100 dark:bg-gray-800;
  }
  
  ::-webkit-scrollbar-thumb {
    @apply bg-gray-300 dark:bg-gray-600 rounded-full hover:bg-gray-400 dark:hover:bg-gray-500;
  }
}

/* Custom components */
@layer components {
  .btn {
    @apply inline-flex items-center justify-center px-6 py-2.5 rounded-lg font-medium no-underline transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed;
  }
  
  .btn-primary {
    @apply bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500/50;
  }
  
  .btn-secondary {
    @apply bg-secondary-600 text-white hover:bg-secondary-700 focus:ring-secondary-500/50;
  }
  
  .btn-outline {
    @apply border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800 focus:ring-gray-500/50;
  }
  
  .container {
    @apply px-4 mx-auto w-full max-w-7xl;
  }
  
  /* Glassmorphism effect */
  .glass {
    @apply bg-white/80 dark:bg-gray-800/80 backdrop-blur-lg border border-gray-200 dark:border-gray-700 rounded-xl shadow-lg;
  }
  
  /* Card component */
  .card {
    @apply bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden border border-gray-200 dark:border-gray-700;
  }
}

/* Animations */
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

.animate-fade-in {
  animation: fadeIn 0.3s ease-out forwards;
}

/* AOS safety fallback: before AOS is enabled, keep content visible and neutralize transforms */
html:not(.aos-enabled) [data-aos] {
  opacity: 1;
  visibility: visible;
  /* Neutralize AOS initial transforms so elements are not pushed off-screen */
  transform: none !important;
}

/* When AOS is enabled, allow pre-animate hidden state (restores default behavior). */
html.aos-enabled [data-aos].aos-init:not(.aos-animate) {
  opacity: 0;
  visibility: hidden;
}

/* Typewriter animation */
@keyframes typewriter {
  from { width: 0; }
  to { width: 100%; }
}

@keyframes blink {
  from { border-color: transparent; }
  to { border-color: currentColor; }
}

.typewriter {
  display: inline-block;
  overflow: hidden;
  border-right: 2px solid transparent;
  white-space: nowrap;
  animation: 
    typewriter 2s steps(40, end) 1s infinite alternate,
    blink 0.75s step-end infinite;
}

@media (prefers-reduced-motion: reduce) {
  .typewriter {
    animation: none;
    border-right: none;
    overflow: visible;
    white-space: normal;
  }
}

/* Hero blob animations */
@keyframes blobMove {
  0%, 100% { transform: translate3d(0,0,0) scale(1); }
  33% { transform: translate3d(24px,-16px,0) scale(1.05); }
  66% { transform: translate3d(-20px,12px,0) scale(0.98); }
}

.animate-blob-1 { animation: blobMove 18s ease-in-out infinite; will-change: transform; }
.animate-blob-2 { animation: blobMove 22s ease-in-out infinite reverse; will-change: transform; }
.animate-blob-3 { animation: blobMove 26s ease-in-out infinite; will-change: transform; }

@media (prefers-reduced-motion: reduce) {
  .animate-blob-1, .animate-blob-2, .animate-blob-3 { animation: none; }
}

/* Dark mode transition */
* {
  @apply transition-colors duration-200;
}

/* removed hero-radial-overlay utilities after revert to blobs */

@layer base {
  .prose {
    /* Light mode styles */
    --tw-prose-body: theme('colors.gray.700');
    --tw-prose-headings: theme('colors.gray.900');
    --tw-prose-lead: theme('colors.gray.600');
    --tw-prose-links: theme('colors.primary.600');
    --tw-prose-bold: theme('colors.gray.900');
    --tw-prose-counters: theme('colors.gray.500');
    --tw-prose-bullets: theme('colors.gray.300');
    --tw-prose-hr: theme('colors.gray.200');
    --tw-prose-quotes: theme('colors.gray.900');
    --tw-prose-quote-borders: theme('colors.gray.200');
    --tw-prose-captions: theme('colors.gray.500');
    --tw-prose-code: theme('colors.gray.900');
    --tw-prose-pre-code: theme('colors.gray.200');
    --tw-prose-pre-bg: theme('colors.gray.800');
    --tw-prose-th-borders: theme('colors.gray.300');
    --tw-prose-td-borders: theme('colors.gray.200');

    /* Dark mode styles */
    --tw-prose-invert-body: theme('colors.gray.300');
    --tw-prose-invert-headings: theme('colors.white');
    --tw-prose-invert-lead: theme('colors.gray.400');
    --tw-prose-invert-links: theme('colors.primary.400');
    --tw-prose-invert-bold: theme('colors.white');
    --tw-prose-invert-counters: theme('colors.gray.400');
    --tw-prose-invert-bullets: theme('colors.gray.600');
    --tw-prose-invert-hr: theme('colors.gray.700');
    --tw-prose-invert-quotes: theme('colors.gray.100');
    --tw-prose-invert-quote-borders: theme('colors.gray.700');
    --tw-prose-invert-captions: theme('colors.gray.400');
    --tw-prose-invert-code: theme('colors.white');
    --tw-prose-invert-pre-code: theme('colors.gray.300');
    --tw-prose-invert-pre-bg: theme('colors.gray.800');
    --tw-prose-invert-th-borders: theme('colors.gray.600');
    --tw-prose-invert-td-borders: theme('colors.gray.700');
  }
}

/* Header top-gap pseudo mask: keeps the header visually floating (top-4) while hiding the hero color band underneath */
#site-header.header-visible::before {
  content: "";
  position: fixed;
  top: 0;
  left: 1rem; /* matches mx-4 */
  right: 1rem;
  height: 1rem; /* matches top-4 gap */
  border-top-left-radius: 1rem;
  border-top-right-radius: 1rem;
  background: #ffffff;
  backdrop-filter: blur(12px);
  pointer-events: none;
  z-index: 49; /* below header (z-50) but above hero */
}

@media (min-width: 768px) {
  #site-header.header-visible::before {
    left: 2rem; /* md:mx-8 */
    right: 2rem;
  }
}

html.dark #site-header.header-visible::before {
  background: rgba(15, 23, 42, 0.7);
}
/* Global fallback mask for pages without a header (covers top gap when header isn't rendered) */
body::before {
  content: "";
  position: fixed;
  top: 0;
  left: 1rem; /* matches mx-4 */
  right: 1rem;
  height: 1rem; /* matches top-4 gap */
  border-top-left-radius: 1rem;
  border-top-right-radius: 1rem;
  background: #ffffff;
  pointer-events: none;
  z-index: 48; /* below #site-header::before (49) and header (50) */
  display: block;
}

@media (min-width: 768px) {
  body::before {
    left: 2rem; /* matches md:mx-8 */
    right: 2rem;
  }
}

/* Dark mode variant for the fallback mask */
html.dark body::before {
  background: #0f172a;
}