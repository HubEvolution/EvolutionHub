---
import type { DirectAccessItem } from './types';

interface Cta {
  label: string;
  href: string;
}

interface Props {
  kicker: string;
  title: string;
  subtitle: string;
  primaryCta: Cta;
  secondaryCta?: Cta;
  directAccess: DirectAccessItem[];
  searchLabel: string;
  searchPlaceholder: string;
  accessLabel: string;
  footerNote: string;
}

const {
  kicker,
  title,
  subtitle,
  primaryCta,
  secondaryCta,
  directAccess,
  searchLabel,
  searchPlaceholder,
  accessLabel,
  footerNote,
} = Astro.props;
---

<header class="relative z-10">
  <div
    class="rounded-xl border border-[rgba(var(--docs-border)/0.8)] bg-[rgb(var(--docs-surface))] p-6 sm:p-8"
  >
    <div class="grid gap-8 lg:grid-cols-[1.25fr,0.75fr] lg:items-start">
      <div class="min-w-0 space-y-5">
        <p
          class="text-xs font-mono font-semibold tracking-[0.18em] uppercase text-[rgb(var(--docs-fg-subtle))]"
        >
          {kicker}
        </p>
        <h1
          class="text-3xl sm:text-5xl font-extrabold tracking-tight leading-[1.05] text-[rgb(var(--docs-fg))]"
        >
          {title}
        </h1>
        <p class="text-sm sm:text-lg leading-relaxed text-[rgb(var(--docs-fg-muted))] max-w-2xl">
          {subtitle}
        </p>

        <div class="flex flex-wrap gap-3">
          <a
            href={primaryCta.href}
            class="inline-flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-semibold bg-[rgba(var(--docs-accent)/0.92)] text-[rgb(var(--docs-accent-ink))] border border-[rgba(var(--docs-accent)/0.3)] hover:bg-[rgba(var(--docs-accent)/1)] motion-safe:transition-colors focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[rgb(var(--docs-accent))]"
          >
            {primaryCta.label}
            <svg
              class="h-4 w-4"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              viewBox="0 0 24 24"
            >
              <path stroke-linecap="round" stroke-linejoin="round" d="M17 8l4 4m0 0l-4 4m4-4H3"
              ></path>
            </svg>
          </a>
          {
            secondaryCta && (
              <a
                href={secondaryCta.href}
                class="inline-flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-semibold border border-[rgba(var(--docs-border)/0.9)] bg-[rgb(var(--docs-surface-2))] text-[rgb(var(--docs-fg))] hover:border-[rgba(var(--docs-accent)/0.45)] hover:bg-[rgba(var(--docs-accent)/0.06)] motion-safe:transition-colors focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[rgb(var(--docs-accent))]"
              >
                {secondaryCta.label}
              </a>
            )
          }
        </div>
      </div>

      <div class="min-w-0 space-y-4">
        <div role="search" class="space-y-2">
          <label
            class="text-xs sm:text-sm font-mono font-semibold tracking-[0.12em] uppercase text-[rgb(var(--docs-fg-subtle))]"
            for="docs-search-input"
          >
            {searchLabel}
          </label>
          <div
            class="flex items-center gap-3 rounded-xl border border-[rgba(var(--docs-border)/0.9)] bg-[rgb(var(--docs-surface-2))] px-4 py-3 focus-within:outline focus-within:outline-2 focus-within:outline-offset-2 focus-within:outline-[rgb(var(--docs-accent))] motion-safe:transition-colors"
          >
            <svg
              class="h-4 w-4 text-[rgb(var(--docs-fg-subtle))]"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M21 21l-4.35-4.35m0 0A7.5 7.5 0 103 10.5a7.5 7.5 0 0013.65 6.15z"></path>
            </svg>
            <input
              id="docs-search-input"
              type="search"
              name="q"
              placeholder={searchPlaceholder}
              autocomplete="off"
              readonly
              aria-disabled="true"
              class="w-full min-w-0 bg-transparent text-[rgb(var(--docs-fg))] placeholder:text-[rgb(var(--docs-fg-subtle))] focus:outline-none cursor-not-allowed"
            />
          </div>
          <p class="text-xs sm:text-sm text-[rgb(var(--docs-fg-subtle))] leading-relaxed">
            {footerNote}
          </p>
        </div>
      </div>
    </div>

    {
      directAccess.length > 0 && (
        <nav
          aria-label={accessLabel}
          class="mt-7 pt-6 border-t border-[rgba(var(--docs-border)/0.7)]"
        >
          <p class="text-xs font-mono font-semibold tracking-[0.18em] uppercase text-[rgb(var(--docs-fg-subtle))]">
            {accessLabel}
          </p>
          <div class="mt-3 flex flex-wrap gap-2">
            {directAccess.map((item) => (
              <a
                href={item.href}
                class="inline-flex items-center rounded-lg px-3 py-2 text-sm font-mono border border-[rgba(var(--docs-border)/0.85)] bg-[rgb(var(--docs-surface-2))] text-[rgb(var(--docs-fg))] hover:border-[rgba(var(--docs-accent)/0.5)] hover:bg-[rgba(var(--docs-accent)/0.08)] motion-safe:transition-colors focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[rgb(var(--docs-accent))]"
              >
                {item.label}
              </a>
            ))}
          </div>
        </nav>
      )
    }
  </div>
</header>
